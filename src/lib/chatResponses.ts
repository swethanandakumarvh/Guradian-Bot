// Predefined chat responses and flow logic
export const chatResponses = {
  greeting: {
    en: "Hi there! I'm Guardian Bot тАФ here to assist in emergencies, offer support, or connect you with help. How can I help you today?",
    hi: "рдирдорд╕реНрддреЗ! рдореИрдВ рдЧрд╛рд░реНрдбрд┐рдпрди рдмреЙрдЯ рд╣реВрдВ тАФ рдЖрдкрд╛рддрдХрд╛рд▓реАрди рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╕рд╣рд╛рдпрддрд╛, рд╕рдорд░реНрдерди рдпрд╛ рдорджрдж рдХреЗ рд▓рд┐рдП рдпрд╣рд╛рдВ рд╣реВрдВред рдЖрдЬ рдореИрдВ рдЖрдкрдХреА рдХреИрд╕реЗ рдорджрдж рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ?",
    ta: "ро╡рогроХрпНроХроорпН! роиро╛ройрпН роХро╛ро░рпНроЯро┐ропройрпН рокро╛роЯрпН тАФ роЕро╡роЪро░роХро╛ро▓ роЙродро╡ро┐, роЖродро░ро╡рпБ роЕро▓рпНро▓родрпБ роЙродро╡ро┐ родрпКроЯро░рпНрокрпБ роХрпКро│рпНро│ роЗроЩрпНроХрпЗ роЗро░рпБроХрпНроХро┐ро▒рпЗройрпН. роЗройрпНро▒рпБ роиро╛ройрпН роОрокрпНрокроЯро┐ роЙродро╡ роорпБроЯро┐ропрпБроорпН?"
  },
  options: {
    en: ["ЁЯФШ Report an Emergency", "ЁЯФШ Check Nearby Alerts", "ЁЯФШ Offer Help", "ЁЯФШ Mental Support", "ЁЯФШ Talk to Human"],
    hi: ["ЁЯФШ рдЖрдкрд╛рддрдХрд╛рд▓ рдХреА рд░рд┐рдкреЛрд░реНрдЯ рдХрд░реЗрдВ", "ЁЯФШ рдЖрд╕-рдкрд╛рд╕ рдХреА рдЪреЗрддрд╛рд╡рдирд┐рдпрд╛рдВ рджреЗрдЦреЗрдВ", "ЁЯФШ рдорджрдж рдХреА рдкреЗрд╢рдХрд╢ рдХрд░реЗрдВ", "ЁЯФШ рдорд╛рдирд╕рд┐рдХ рд╕рд╣рд╛рдпрддрд╛", "ЁЯФШ рдордиреБрд╖реНрдп рд╕реЗ рдмрд╛рдд рдХрд░реЗрдВ"],
    ta: ["ЁЯФШ роЕро╡роЪро░роиро┐ро▓рпИ роЕро▒ро┐роХрпНроХрпИ", "ЁЯФШ роЕро░рпБроХро┐ро▓рпБро│рпНро│ роОроЪрпНроЪро░ро┐роХрпНроХрпИроХро│рпН", "ЁЯФШ роЙродро╡ро┐ ро╡ро┤роЩрпНроХ", "ЁЯФШ роорой роЖродро░ро╡рпБ", "ЁЯФШ рооройро┐родро░рпБроЯройрпН рокрпЗроЪ"]
  },
  emergency: {
    types: {
      en: ["ЁЯФе Fire", "ЁЯТз Flood", "ЁЯХ│я╕П Road Damage", "тЪая╕П Hazard", "ЁЯУН Other"],
      hi: ["ЁЯФе рдЖрдЧ", "ЁЯТз рдмрд╛рдврд╝", "ЁЯХ│я╕П рд╕рдбрд╝рдХ рдХреНрд╖рддрд┐", "тЪая╕П рдЦрддрд░рд╛", "ЁЯУН рдЕрдиреНрдп"],
      ta: ["ЁЯФе родрпА", "ЁЯТз ро╡рпЖро│рпНро│роорпН", "ЁЯХ│я╕П роЪро╛ро▓рпИ роЪрпЗродроорпН", "тЪая╕П роЖрокродрпНродрпБ", "ЁЯУН рооро▒рпНро▒ро╡рпИ"]
    },
    confirmation: {
      en: "Thanks! I've reported the issue. Nearby residents have been alerted and help is on the way. Stay safe. ЁЯТЩ",
      hi: "рдзрдиреНрдпрд╡рд╛рдж! рдореИрдВрдиреЗ рд╕рдорд╕реНрдпрд╛ рдХреА рд░рд┐рдкреЛрд░реНрдЯ рдХрд░ рджреА рд╣реИред рдЖрд╕-рдкрд╛рд╕ рдХреЗ рдирд┐рд╡рд╛рд╕рд┐рдпреЛрдВ рдХреЛ рд╕реВрдЪрд┐рдд рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рдорджрдж рдЖ рд░рд╣реА рд╣реИред рд╕реБрд░рдХреНрд╖рд┐рдд рд░рд╣реЗрдВред ЁЯТЩ",
      ta: "роиройрпНро▒ро┐! рокро┐ро░роЪрпНроЪро┐ройрпИропрпИ роЕро▒ро┐ро╡ро┐родрпНродрпБро│рпНро│рпЗройрпН. роЕро░рпБроХро┐ро▓рпБро│рпНро│ роХрпБроЯро┐ропро┐ро░рпБрокрпНрокро╛ро│ро░рпНроХро│рпБроХрпНроХрпБ родрпЖро░ро┐ро╡ро┐роХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ рооро▒рпНро▒рпБроорпН роЙродро╡ро┐ ро╡ро░рпБроХро┐ро▒родрпБ. рокро╛родрпБроХро╛рокрпНрокро╛роХ роЗро░рпБроЩрпНроХро│рпН. ЁЯТЩ"
    }
  },
  mental_support: {
    initial: {
      en: "I'm here for you. Would you like some calming messages, or to talk to someone?",
      hi: "рдореИрдВ рдЖрдкрдХреЗ рд▓рд┐рдП рдпрд╣рд╛рдВ рд╣реВрдВред рдХреНрдпрд╛ рдЖрдк рдХреБрдЫ рд╢рд╛рдВрдд рд╕рдВрджреЗрд╢ рдЪрд╛рд╣реЗрдВрдЧреЗ, рдпрд╛ рдХрд┐рд╕реА рд╕реЗ рдмрд╛рдд рдХрд░рдирд╛ рдЪрд╛рд╣реЗрдВрдЧреЗ?",
      ta: "роиро╛ройрпН роЙроЩрпНроХро│рпБроХрпНроХро╛роХ роЗроЩрпНроХрпЗ роЗро░рпБроХрпНроХро┐ро▒рпЗройрпН. роЪро┐ро▓ роЕроорпИродро┐ропро╛рой роЪрпЖропрпНродро┐роХро│рпН ро╡рпЗрогрпНроЯрпБрооро╛, роЕро▓рпНро▓родрпБ ропро╛ро░рпБроЯройро╛ро╡родрпБ рокрпЗроЪ ро╡рпЗрогрпНроЯрпБрооро╛?"
    },
    calming: {
      en: "Breathe with me тАФ in... out... you're safe. Help is on the way.",
      hi: "рдореЗрд░реЗ рд╕рд╛рде рд╕рд╛рдВрд╕ рд▓реЗрдВ тАФ рдЕрдВрджрд░... рдмрд╛рд╣рд░... рдЖрдк рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИрдВред рдорджрдж рдЖ рд░рд╣реА рд╣реИред",
      ta: "роОройрпНройрпБроЯройрпН роорпВроЪрпНроЪрпБ ро╡ро┐роЯрпБроЩрпНроХро│рпН тАФ роЙро│рпНро│рпЗ... ро╡рпЖро│ро┐ропрпЗ... роирпАроЩрпНроХро│рпН рокро╛родрпБроХро╛рокрпНрокро╛роХ роЗро░рпБроХрпНроХро┐ро▒рпАро░рпНроХро│рпН. роЙродро╡ро┐ ро╡ро░рпБроХро┐ро▒родрпБ."
    }
  }
};

export function getResponse(key: string, language: string = 'en'): string {
  const paths = key.split('.');
  let current: any = chatResponses;
  
  for (const path of paths) {
    if (current[path]) {
      current = current[path];
    } else {
      return chatResponses.greeting[language];
    }
  }
  
  return current[language] || current.en;
}